def is_abundant(n)
    return false if n < 12
    sum_divisors = 1
    (2..(n ** 0.5).ceil).each do |i|
        if n % i == 0
            sum_divisors += i
            sum_divisors += n / i if i != n / i
        end
    end
    sum_divisors > n
end

def non_abundant_sums(n)
    abundants = []
    (12..n).each do |i|
        abundants.push(i) if is_abundant(i)
    end
    abundant_sums = Set.new
    abundants.each do |i|
        abundants.each do |j|
            abundant_sums.add(i + j)
        end
    end
    result = 0
    (0...n).each do |i|
        result += i unless abundant_sums.include?(i)
    end
    result
end
